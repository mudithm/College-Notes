<h1>Lecture 3</h1>

---

<h5>HTTP response status codes *Important*</h5>

  * Appears in the fist line in server->client response message
  * A few sample codes:
      - `200 Ok`: request sicceeded, requested object later in this messsage
      - `301 moved permanently`: requested object moved, new location specified later in this message (Location:)
      - `400 Bad Request`: request message not understood by the server
      - `404 Not found`: requested object was not found

<h5>Non-persistent HTTP: response time</h5>

  * RTT: time between client sending a small packet to the server and receiving the reply
  * Response time for fetching one object:
      - One RTT to set up TCP connection
      - One RTT for HTTP request and first byte of HTTP response to reach the client
      - object transmission time
      - Total: t = 2*RTT + transmit time

<h5>Response time: fetching 4 objects</h5>

  * User clicks URL web.cs.ucla.edu/~lixia/CS118/index.html
      - HTTP Client sends TCP connection open request to web.cs.ucla.edu
      - HTTP server responds with "accept TCP invitation"
      - HTTP client sends HTTP request message asking for object "index.html"
      - HTTP server receives request message, forms a reply containing requested object, and sends it
      - HTTP client receives response message (index.html file), parsing it and finds 4 referenced JPG objects
      - As soon as the server receives ACK (acknowledgement) for the reply, the server closes the TCP connection
      - Steps 1-5 repeated for each of the 4 JPG objects

<h5>How do we improve this?</h5>

  * TCP sends at most _one_ object for _one_ TCP connection
      - Potential solutions:
      - After opening a TCP connection, use it to fetch send multiple objects (Persistent HTTP)
      - Open multiple parallel TCP connections

<h5>Persistent HTTP: one more detail</h5>

  * Persistent _without_ pipelining
      - client issues new erquest after previous response has been received
      - total delay: one RTT for each object plus data transfer time
  * Persistent _with_ pipelining
      - client sends requests as soon as it sees a referenced object
      - total delay: one RTT plus data transfer time for all objects

Look at slides for the differences between HTTP/1.0 and HTTP/1.1 with pipelining

---

<h5>You're being tracked</h5>

  * HTTP is stateless protocol -- how do websites remember stuff about you?
  * Cookies
      - Client has a cookie file that identifies the user, and when you contact a web server you use that identifying cookie
      - If you access a website like Amazon, it might first check whether or not you have a cookie; if not, it will supply you with one, that identifies you to the server

<h5>How Cookies work</h5>

  * Cookies can
      - bring convenience to you
      - bring recommendations
      - permit a website to learn your online behavior
      - Advertising companies can obtain user info across multiple sites
  * Third Party Cookies
      - Ads embedded in pages you access might also give you cookies
      - other sites that host the same advertisers/ad agencies will be able to use these cookies to target ads towards you

---

<h5>HTTP Proxy</h5>

  * User sets browser to enable web accesses via cache
  * browser sends all HTTP requests to cache
  * Cache
    - if requested object in cache: request object
    - else requests object from the server, then returns object to client


