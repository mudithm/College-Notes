<h1>Lecture 2</h1>

---

<h5>Queueing/transmission/propagation delay</h5>

  * Queueing: # packets in queue x transmission time of each packet
  * Transmission: L/R
      - R = link bandwidth (bps_
      - L = packet length (bits)
  * Propagation: d/s
      - d = length of physical link
      - s = propagation speed in medium (~2x10^8 m/sec)
  * Given a "pipe" with a bandwidth of 10 Mbps and another of 20 Mbps, the 20Mbps pipe will usually be faster, since it will be able to load all the data into it in half the time. (after .5ms, the 20 Mbps pipe will contain an entire 10 kb file, but the 10Mbps pipe will only have half the file.) After loading the file, the larger bandwidth pipe will finish only slightly faster, by whatever the difference in time was between when it fully contained the file and when the lower bandwidth pipe. 
  * Imporantly, more than one packet can be in a pipe at the same time.

 <h5>Where can a packet be?</h5> 

   * Bandwidth = W, link length = 200 km, packet size = 1000 bits
   * Q: when the first bit of the packet reaches B, where is the last bit?
       - P = prop delay = 200,000 m / 2*10^8 m/s = 1msec
       - if W = 1Mbps: D_trans = 1000/10^6 = 1msec
       - if W = 10Mbps: D_trans = 1000/10^7 = .1msec
       - Bandwidth * delay = amount of data "in the pipe"

---

<h5>Client-server communication model</h5>

  * Servers
      - reachable only by IP address
          + so client can send a packet to the server
      - always-on, waiting fr incoming requests forom clients
  * Clients
      - initiate communication with the server
  * Question: How does a client process *identify* the server process with which it wants to communicate?
      - a server might be hosting many different processes (ie email, messaging, etc)
      - need to establish commincation with the right one
  * Answer: using port numbers via the socket API

<h5>Socket</h5>

  * Client Operating system
      - Mac OS, Linux, windows, etc
  * Server might be serving mutiple applications
  * Process: running on the host
  * Between different hosts: processes communicate through an application-layer protocol (ie TCP)
  * A process sends/receives messages to/from its socket
  * Flow (generally bidirectional):

<h5>What is a "socket?"</h5>

  * A set of system function calls for the application process to make a connection to remote servers
      - `Socket()`: creates a socket
      - `bind()`: binds the socket to a local IP address and port#
      - `connect()`: initiates connection to another socket
      - `listen()`: passively waits for connections
      - `accept()`: accept a new connection
      - `Write()`: write data to a socket
      - `Read()`: read data from a socket
      - `close()`

| Server | Client | 
| --- | --- |
| Socket() | |
| setsockopt | |
| bind | Socket() |
| Listen <--------- | --- Connect | 
| Accept | |
| Send/Recv <--- | ---> send/recv |
| close <--------- | ---> close |

---

<h5>Applications</h5>

  * So far we've talked
    - application process (executing application program)
    - application protocol (used by application processes)

<h5>Web and HTTP</h5> 

  * Web page: normally consists of 
    - base HTML fie, which includes several referenced objects
  * An object can be another hTMl, JPEG image, java appliet, audio file, etc
  * Each object is addresable by a URL (Universal Resource Locator)


 <h5>HTTP</h5> 

   * Web's application layer protocol
   * client/server model
     - client: broswer that requests, receives, "displays" web objects
     - server: web server sneds objecs in response to requests
   * HTTP/1.0: non-persistent connection
   * HTTP/1.1: persistent connection
     - may also allow pipelining

<h5>More on HTTP</h5>

  * Uses TCP
    - Client initiates TCP connection (creates socket) to server, port 80
    - Server accepts TCP connection from client
    - HTTP essages (application-layer protocol messages) exchanged between browser (HTTP client) and web server (HTTP server) 
    - TCP connection closed
  * HTTP is "Stateless" 
    - Server maintains no information about past client requests
    - protocols that maintain state are complex!

<h5>What does a HTTP request message look like?</h5>

  * GET request example



